<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkbox Parent-Child</title>
</head>

<body>
    <div class="p-2" id="parent1">
        <div class="form-check">
            <input class="form-check-input border border-secondary" type="checkbox" id="parentCheckbox">
            <label class="form-check-label" for="parentCheckbox">Checkbox Parent</label>
        </div>
        <div class="form-check">
            <input name="childCheckbox1" class="form-check-input border border-secondary" type="checkbox" value=""
                id="childCheckbox1" data-layer="child_1">
            <label class="form-check-label" for="childCheckbox1">Child Checkbox 1</label>
        </div>
        <div class="form-check">
            <input name="childCheckbox2" class="form-check-input border border-secondary" type="checkbox" value=""
                id="childCheckbox2" data-layer="child_2">
            <label class="form-check-label" for="childCheckbox2">Child Checkbox 2</label>
        </div>
        <div class="form-check">
            <input name="childCheckbox3" class="form-check-input border border-secondary" type="checkbox" value=""
                id="childCheckbox3" data-layer="child_3">
            <label class="form-check-label" for="childCheckbox3">Child Checkbox 3</label>
        </div>
        <!-- Tambahkan lebih banyak checkbox-child jika diperlukan dengan data-layer yang berbeda -->
    </div>
    <div class="form-check">
        <input name="childCheckbox1" class="form-check-input border border-secondary" type="checkbox" value=""
            id="childCheckbox1" data-layer="child_1">
        <label class="form-check-label" for="childCheckbox1">Child Checkbox 4</label>
    </div>
    <script>
        // Mendapatkan referensi ke checkbox parent dan semua checkbox-child hanya dalam konteks elemen dengan id "parent1"
        const parentContainer = document.getElementById("parent1");
        const parentCheckbox = parentContainer.querySelector("#parentCheckbox");
        const childCheckboxes = parentContainer.querySelectorAll('[data-layer]');

        // Tambahkan event listener ke setiap checkbox-child
        childCheckboxes.forEach(function (childCheckbox) {
            childCheckbox.addEventListener("change", function () {
                const allChecked = Array.from(childCheckboxes).every(function (checkbox) {
                    return checkbox.checked;
                });
                parentCheckbox.checked = allChecked;
            });
        });

        // Tambahkan event listener ke checkbox parent
        parentCheckbox.addEventListener("change", function () {
            if (parentCheckbox.checked) {
                childCheckboxes.forEach(function (childCheckbox) {
                    childCheckbox.checked = true;
                });
            } else {
                childCheckboxes.forEach(function (childCheckbox) {
                    childCheckbox.checked = false;
                });
            }
        });
    </script>
</body>

</html>